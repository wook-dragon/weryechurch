<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WE례교회 예꿈 예배 카운트다운</title>
    <link rel="icon" href="static/images/logo.png" type="image/png">
    <link rel="stylesheet" href="css/countdown.css">
</head>

<body>

    <div class="countdown-container">
        <!-- 홈 버튼 -->
        <a href="index.html" class="home-btn" title="라이브러리로 돌아가기">🏠</a>

        <div class="sky-background">
            <div class="cloud cloud-1">☁️</div>
            <div class="cloud cloud-2">☁️</div>
            <div class="cloud cloud-3">☁️</div>
        </div>

        <div class="content-wrapper">
            <h1 class="title">예꿈 예배 시작까지</h1>
            <h1 id="finishMessage" class="finish-message" style="display: none;">🎉 예꿈 예배 시작! 🎉</h1>
            <div class="timer" id="timer">--:--</div>

            <div class="button-group">
                <button id="startBtn" class="start-btn" onclick="startBGM()">🎵 BGM 시작</button>
                <button id="settingsBtn" class="settings-btn" onclick="openSettings()" title="플레이리스트 설정">⚙️</button>
            </div>

            <div class="music-info" id="musicInfo" style="display: none;">
                <span class="music-icon">🎶</span>
                <span id="currentSongTitle">음악 재생 대기중...</span>
            </div>
        </div>

        <div class="ground">
            <div class="grass">🌱 🌿 🌻 🌷 🌿 🌱</div>
        </div>
    </div>

    <!-- 곡 선택 모달 -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🎵 재생할 찬양 선택</h2>
                <span class="close" onclick="closeSettings()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="list-controls">
                    <label class="select-all-label"><input type="checkbox" id="selectAll"
                            onchange="toggleSelectAll(this)"> 전체 선택 / 해제</label>
                    <input type="text" id="songSearchInput" class="song-search-input" placeholder="찬양 검색..."
                        onkeyup="filterSongs()">
                </div>
                <div id="songListContainer" class="song-list-container">
                    <!-- 자바스크립트로 곡 목록이 여기 추가됨 -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="save-btn" onclick="saveSettings()">저장하고 닫기</button>
            </div>
        </div>
    </div>

    <audio id="bgmPlayer" preload="auto"></audio>

    <script src="js/config.js"></script>
    <script src="js/countdown.js"></script>
</body>

</html>