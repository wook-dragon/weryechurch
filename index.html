<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WE례교회 예꿈 찬양 라이브러리</title>
    <link rel="icon" href="images/logo.png" type="image/png">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <div class="library-panel-wrapper">
        <div class="library-panel" id="libraryPanel">
            <div class="panel-header">
                <h2>
                    <img src="images/logo.png" alt="로고" onerror="this.style.display='none'">
                    예꿈 찬양 라이브러리
                </h2>
                <div id="statusMsg" class="status-msg">파일 불러오는 중...</div>
                <input type="text" id="searchInput" class="search-box" placeholder="제목으로 검색해주세요." onkeyup="filterList()">
            </div>
            <div class="song-list" id="libraryList"></div>
            <div class="action-area">
                <button class="reset-btn" onclick="resetAll()">초기화 ↺</button>
                <button class="apply-btn" onclick="generatePlayers()">선택 적용 ▶</button>
            </div>
        </div>
        <button class="panel-toggle-btn" id="panelToggleBtn" onclick="toggleLibraryPanel()" title="패널 접기/펴기">
            <span class="toggle-icon">◀</span>
        </button>
    </div>

    <div class="bottom-section">
        <div class="player-panel" id="playerContainer">
            <div class="empty-state">
                <h1>오늘 예배드릴 찬양을<br><b>순서대로</b> 선택해주세요.</h1>
            </div>
        </div>

        <div class="memo-panel" id="memoPanel">
            <div class="memo-resize-handle" id="memoResizeHandle"></div>
            <div class="memo-header">
                <span>📝 예배 진행 메모</span>
                <button class="date-select-btn" onclick="openDatePicker()">📅 불러오기</button>
            </div>
            <textarea class="memo-textarea" placeholder="여기에 찬양팀 멘트나 진행 순서를 적어두세요."></textarea>
        </div>

        <!-- 날짜 선택 모달 -->
        <div id="datePickerModal" class="date-picker-modal" onclick="closeModalOnBackdrop(event)">
            <div class="date-picker-content" onclick="event.stopPropagation()">
                <div class="date-picker-header">
                    <h3>메모 불러오기</h3>
                    <button class="close-btn" onclick="closeDatePicker()">×</button>
                </div>
                <div class="date-picker-body">
                    <label for="dateInput">날짜를 선택하세요:</label>
                    <input type="date" id="dateInput" class="date-input">
                </div>
                <div class="date-picker-footer">
                    <button class="cancel-btn" onclick="closeDatePicker()">취소</button>
                    <button class="apply-date-btn" onclick="applySelectedDate()">적용</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="config.js"></script>
<script src="script.js"></script>

</body>
</html>